<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Currency</title>
        <!-- <script src="jquery-3.5.1.min.js"></script> -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    </head>

    <body style="background-color: blue; position: absolute; top: 8px; left: 16px;" >
        <!-- <h2> Dollar/Shekel Rate: </h2> -->
        <p id="price-usd" >
        </p>
        
        <!-- <script src="./currenctScript.js"> -->
        <script type="text/javascript">

        setInterval(() =>  {
            const settings = {
                "async": true,
                "crossDomain": true,
                "url": "http://127.0.0.1:3000/getConvert/",
                "method": "GET",
                "headers": {                }
            };

            $.ajax(settings).done(function (response) {
                console.log(response);
                var today = new Date();
                var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
                document.getElementById('price-usd').innerHTML = 'Rate: '+ response.data.rate +'<br> Date: '+ time;
            });}, 1 * 1000);


                // $.ajax({
                //     // url: "http://data.fixer.io/api/latest?access_key=52fa193ca856a6b38547cb5621f09859",
                //     url: "https://currency13.p.rapidapi.com/convert/1/USD/IL",
                //     headers:{
                //         "x-rapidapi-key": "961176919dmsh677c2de8e442ac7p1db8cfjsn71ae5b4cce7c",
                //         "x-rapidapi-host": "currency13.p.rapidapi.com",
                //         "useQueryString": true
                //     },
                //     dataType: 'json'
                // }).done(function (data) {
                //     console.log(data);
                //     const euro = 1 / data.rates["USD"];
                //     const rate = euro * data.rates["ILS"];
                //     var today = new Date();
                //     var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
                //     document.getElementById('price-usd').innerHTML = 'Rate: '+ rate+'<br> Date: '+ time;
                // })
        
            
        </script>

    </body>

</html>

